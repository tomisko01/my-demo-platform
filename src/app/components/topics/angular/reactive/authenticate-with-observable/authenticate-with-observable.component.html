<app-reactive-messages></app-reactive-messages>


<div class="on-top-right"
     *ngIf="authStore.user$ | async as user; else notLogged">
  Logout
  <button
    mat-icon-button (click)="onLogout()">
    <mat-icon>exit_to_app</mat-icon>
  </button>

  <div>
    <p>Welcome back <b>{{ user.email }}!</b></p>
  </div>
</div>

<ng-template #notLogged>
  <div class="login">

    <div class="login-form" [formGroup]="form">

      <h3>Login</h3>

      <div class="form-control">
        <label>Email:</label>
        <input placeholder="Enter your email"
               formControlName="email">
      </div>

      <div class="form-control">
        <label>Password:</label>
        <input (keydown.enter)="onLogin()"
               type="password"
               placeholder="Enter your password"
               formControlName="password">
      </div>

    </div>

    <div class="form-actions">
      <button class="btn" routerLink="/home">Home</button>

      <button class="btn"
              (click)="onLogin()">
        Login
      </button>

    </div>

  </div>

</ng-template>
